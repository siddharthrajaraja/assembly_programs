CREATE TABLE PATIENT (PID NUMBER(4),PNAME VARCHAR(20) NOT NULL,AGE NUMBER(3) NOT NULL,CONSTRAINT PATIENT_PK PRIMARY KEY (PID));

INSERT INTO PATIENT VALUES('1','ADAM','20');
INSERT INTO PATIENT VALUES('2','RAHUL','40');
INSERT INTO PATIENT VALUES('3','MEERA','50');
INSERT INTO PATIENT VALUES('4','GEETA','14');
INSERT INTO PATIENT VALUES('5','SIMRAN','32');

CREATE TABLE ROOMS(ROOM_NO NUMBER(4) NOT NULL,ROOM_TYPE VARCHAR(10) NOT NULL,NOOFDAYS NUMBER(3) NOT NULL,PID NUMBER(4),CONSTRAINT FK_PATIENT FOREIGN KEY (PID) REFERENCES PATIENT(PID));
INSERT INTO ROOMS VALUES('2001','GENERAL','10','1');
INSERT INTO ROOMS VALUES('2002','SPECIAL','25','5');
INSERT INTO ROOMS VALUES('2003','SPECIAL','15','3');
INSERT INTO ROOMS VALUES('2004','GENERAL','30','2');

(WHO HAVE BEEN ALLOTED ROOMS)
SELECT PNAME FROM PATIENT WHERE PID IN(SELECT PID FROM ROOMS);
(NOT ALLOTED ROOMS)
SELECT PNAME FROM PATIENT WHERE PID NOT IN(SELECT PID FROM ROOMS);
(WHERE ROOMTYPE=SPECIAL)
SELECT PNAME,ROOM_TYPE FROM PATIENT,ROOMS WHERE PATIENT.PID=ROOMS.PID AND(PNAME,ROOM_TYPE)IN (SELECT PNAME,ROOM_TYPE FROM PATIENT,ROOMS WHERE ROOM_TYPE='SPECIAL');
(WHO HAVE BEEN ALLOTED ROOMS)
SELECT PNAME FROM PATIENT WHERE EXISTS (SELECT PID FROM ROOMS WHERE PATIENT.PID=ROOMS.PID);
(NOT ALLOTED ROOMS)
SELECT PNAME FROM PATIENT WHERE NOT EXISTS (SELECT PID FROM ROOMS WHERE PATIENT.PID=ROOMS.PID);
SELECT AVG(AGE) FROM PATIENT;
SELECT SUM(AGE) FROM PATIENT;


